---
page_title: "Provider: {{.ProviderShortName}}"
description: |-
{{ .Description | plainmarkdown | trimspace | prefixlines "  " }}
---

# {{.ProviderShortName}} Provider

The Redis ACL provider allows Terraform to manage Redis and Valkey Access Control Lists (ACLs). This provider supports Redis 6.0+ and Valkey ACL features including user management, permissions, and access controls.

## Example Usage

{{ tffile "examples/basic-usage/main.tf" }}

## Authentication

The provider supports multiple authentication methods:

### Basic Authentication
```terraform
provider "redisacl" {
  address  = "localhost:6379"
  username = "admin"
  password = "password"
}
```

### TLS Configuration
```terraform
provider "redisacl" {
  address  = "redis.example.com:6380"
  use_tls  = true
  username = "admin"
  password = "password"
  
  # Optional: Custom CA certificate
  tls_ca_cert = file("ca.pem")
  
  # Optional: Client certificate for mutual TLS
  tls_cert = file("client.pem")
  tls_key  = file("client-key.pem")
}
```

### Redis Cluster
```terraform
provider "redisacl" {
  cluster {
    addresses = [
      "node1.redis.example.com:6379",
      "node2.redis.example.com:6379",
      "node3.redis.example.com:6379"
    ]
    username = "admin"
    password = "password"
  }
}
```

### Redis Sentinel
```terraform
provider "redisacl" {
  sentinel {
    addresses = [
      "sentinel1.redis.example.com:26379",
      "sentinel2.redis.example.com:26379",
      "sentinel3.redis.example.com:26379"
    ]
    master_name = "mymaster"
    username    = "admin"
    password    = "password"
  }
}
```

> **⚠️ Important:** Redis does not automatically replicate ACL users to replica nodes. In Sentinel setups, when a failover occurs, the newly promoted master will not have the ACL users created by this provider. Consider using Redis Cluster or implementing ACL synchronization mechanisms for high-availability scenarios.

### Valkey Backend

The provider supports Valkey as an alternative backend to Redis. Set `use_valkey = true` to use Valkey instead of Redis.

#### Standalone Valkey
```terraform
provider "redisacl" {
  address    = "localhost:6379"
  password   = "your-password"
  use_valkey = true
}
```

#### Valkey with TLS
```terraform
provider "redisacl" {
  address     = "secure-valkey.example.com:6380"
  password    = "your-password"
  use_valkey  = true
  use_tls     = true
  tls_ca_cert = file("ca.pem")
  tls_cert    = file("client.crt")
  tls_key     = file("client.key")
}
```

#### Valkey Cluster
```terraform
provider "redisacl" {
  username   = "cluster-user"
  password   = "cluster-password"
  use_valkey = true
  cluster {
    addresses = [
      "node1.example.com:6379",
      "node2.example.com:6379",
      "node3.example.com:6379"
    ]
  }
}
```

> **⚠️ Note:** Valkey backend does not currently support Sentinel configuration. Use standalone or cluster modes with Valkey.

{{ .SchemaMarkdown | trimspace }}

## Environment Variables

The following environment variables can be used as defaults:

- `REDIS_ADDRESS` - Redis server address
- `REDIS_USERNAME` - Redis username
- `REDIS_PASSWORD` - Redis password
- `REDIS_USE_TLS` - Enable TLS (true/false)

## Requirements

- Redis 6.0 or later (ACL support required) or Valkey
- Terraform 1.0 or later